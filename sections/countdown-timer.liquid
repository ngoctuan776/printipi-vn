{%- capture countdown -%}
{% assign section_st = section.settings %}
<div class="sec_cov{% if section_st.hidem %} hide-sm{% endif %}{% if section_st.hided %} hide-md hide-lg{% endif %}{%  if section_st.ganim %} gr_bg{% endif %}{% if section_st.bgimg != blank %} bgImg lazyload zi1{% endif %}" style="--sbg:{% if section_st.bgg != blank %}{{ section_st.bgg }}{% else %}{{ section_st.bg }}{% endif %};--sst:{{ section_st.sst }}px;--ssb:{{ section_st.ssb }}px;--sstm:{{ section_st.sstm }}px;--ssbm:{{ section_st.ssbm }}px;--as:{{ section_st.animsp }}s;--overlay:{{ section_st.overlay | color_modify: 'alpha', section_st.overlay_op }};"  	
  {% if section_st.bgimg != blank %}data-bgset="{{ section_st.bgimg | image_url: width: section_st.bgimg.width | image_tag: widths: '400,600,800,1000,1400,1600,2000,2400,3000' | split: 'srcset="' | last | split: '"' | first }}" data-sizes="auto" data-parent-fit="contain"{% endif %}>  	
    <div class="{% if section_st.sw %}fw-sec{% else %}page-width{% endif %}" id="{{ section.id }}">
      <div class="fl f-col f-row-md gap" style="--gap:30px;--gapm:20px;">
        <div class="fl fl1 f-jcc f-aic tc{% if section_st.layout == 'right' %} order2 f-jce-md{%  else %} f-jcs-md{% endif %}">  
      	   <countdown-time class="atCounter box_timer fl f-aic ttu gap {% render 'animate-data', css:true %}" style="gap:15px;--fs:{{ section_st.fs }}px;--fw:{{ section_st.fw }};--fsl:{{ section_st.fsl }}px;--cl:{{ section_st.ccl }};--bg:{{ section_st.cbg }};--border:{{ section_st.bdr }};--rounded:{{ section_st.radius }}px;" data-date="{{ section_st.date }}">                 
              <span class="pd15"><span class="tm days">00</span> {{ 'date_formats.days' | t }}</span>
              <span class="pd15"><span class="tm hours">00</span> {{ 'date_formats.hours' | t }}</span>
              <span class="pd15"><span class="tm minutes">00</span> {{ 'date_formats.minuts' | t }}</span>
              <span class="pd15"><span class="tm seconds">00</span> {{ 'date_formats.seconds' | t }}</span>
            </countdown-time>
        </div>		
        <div class="timer_text fl f-col f-aic f-ais-md {% render 'animate-data', css:true %}">
			{%- for block in section.blocks -%}
                {% assign block_st = block.settings %}
				{% case block.type %}
				{%  when 'text' %}
					<{{ block_st.htag }} class="rgTxt {{ block_st.tff }} mb{{ block_st.mb }}"  style="--cl:{{ block_st.cl }};--fs:{{ block_st.fs }}px;--fsm:{{ block_st.fsm }}px;--fw:{{ block_st.fw }};--lh:{{ block_st.lh }};">{{ block_st.ttl }}</{{ block_st.htag }}>
				{%  when 'button' %}
					<div class="fl">
						{% if block_st.btntxt != blank %}                             
							<a class="btn {{ block_st.btn-size }} {{ block_st.btn-style }}" {%  if block_st.newtab1 %}target="_blank"{% endif %} href="{{ block_st.url }}">{{ block_st.btntxt }}</a>
						{% endif %}
						{% if block_st.btntxt1 != blank %}                             
							<a class="btn ml20 {{ block_st.btn-size }} {{ block_st.btn-style1 }}" {%  if block_st.newtab2 %}target="_blank"{% endif %} href="{{ block_st.url1 }}">{{ block_st.btntxt1 }}</a>
						{% endif %}
					</div>
				{% endcase %}
			{% endfor %}  
		</div>
      </div>      
	</div> 
</div>
{%- endcapture -%}
{{ countdown | strip_newlines | remove: '  ' | remove: '	' }}
<style>
@media only screen and (max-width:766px){
 #{{ section.id }} .rgTxt { text-align:center;} 
 #{{ section.id }} .timer_text {order:2;}
}
</style>
{% schema %}
{
"name": "Countdown Timer",
"disabled_on": {
    "groups": ["header", "custom.overlay", "footer"]
 },
"settings":[
  {
            "type": "select",
            "id": "layout",
            "label":"Timer alignment",
            "default": "right",
            "options": [
                { "value": "left","label":"Left"},
                { "value": "right","label":"Right"}
            ]
    }, 
  {
                    "type": "text",
                    "id": "date",
                    "label": "End Date",
					"info":"Format - mm/dd/yyyy",
                    "default":"12/25/2025"
                },
                {
                    "type": "color",
                    "id": "cbg",
                    "label": "Background",
                    "default": "#111"
                },
                {
                    "type": "color",
                    "id": "ccl",
                    "label": "Text",
                    "default": "#eee"
                },
                {
                    "type": "color",
                    "id": "bdr",
                    "label": "Border",
                    "default": "#000"
                },
              {
                    "type": "range",
                    "id": "fs",
                    "min": 10,
                    "max": 30,
                    "step": 1,
                    "label": "Font Size (number)",
                    "unit": "px",
                    "default": 22
                },
              {
                    "type": "select",
                    "id": "fw",
                    "label": "Font weight",
                    "default": "600",
                    "options": [
                        {
                            "value": "300",
                            "label": "Light"
                        },
                        {
                            "value": "400",
                            "label": "Regular"
                        },
                        {
                            "value": "500",
                            "label": "Medium"
                        },
                        {
                            "value": "600",
                            "label": "Semi Bold"
                        },
                        {
                            "value": "700",
                            "label": "Bold"
                        }
                    ]
                }, 	
               {
                    "type": "range",
                    "id": "fsl",
                    "min": 10,
                    "max": 20,
                    "step": 1,
                    "label": "Font Size (label)",
                    "unit": "px",
                    "default": 12
                },
                {
                    "type": "range",
                    "id": "radius",
                    "min": 0,
                    "max": 50,
                    "step": 1,
                    "label": "Rounded Corners",
                    "unit": "px",
                    "default": 5
                },	
    {
            "type": "header",
            "content": "Section Design ==="
        },
       {
            "type":"checkbox",
            "id":"sw",
            "label":"Fullwidth?",
            "default": false           
        },	        
        {
            "type": "color",
            "id": "bg",
            "label": "Background",
            "default":"#F5F5F5"	
        },
        {
            "type": "color_background",
            "id": "bgg",
            "label": "Gradient background"
        },	
        {
              "type":"checkbox",
              "id":"ganim",
              "label":"Gradient animation?",
              "default": false           
        },
         {
    		"type": "range",
    		"id": "animsp",
    		"min": 0,
    		"max": 30,
    		"step": 1,
    		"label": "Animation speed",
    		"unit": "px",
    		"default":15,
            "visible_if": "{{ section.settings.ganim }}"
    	 },
        {
            "type": "image_picker",
            "id": "bgimg",
            "label": "Background image"
          }, 
       {
            "type": "color",
            "id": "overlay",
            "label": "Image overlay",
            "default": "#000",
            "visible_if": "{{ section.settings.bgimg != blank }}"
        },
        {
            "type": "range",
            "id": "overlay_op",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "label": "Overlay opacity",
            "unit": "%",
            "default": 0,
            "visible_if": "{{ section.settings.bgimg != blank }}"
        },
		{
			"type": "range",
			"id": "sst",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Spacing top",
			"unit": "px",
			"default":40
        },
		{
			"type": "range",
			"id": "ssb",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Spacing bottom",
			"unit": "px",
			"default":30
        },		
		{
			"type": "range",
			"id": "sstm",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Spacing top (mobile)",
			"unit": "px",
			"default":25
        },
		{
			"type": "range",
			"id": "ssbm",
			"min": 0,
			"max": 100,
			"step": 5,
			"label": "Spacing bottom (mobile)",
			"unit": "px",
			"default":25
        },
         {
            "type": "checkbox",
            "id": "hidem",
            "label": "Hide on mobile?",
            "default": false
        },
        {
            "type": "checkbox",
            "id": "hided",
            "label": "Hide on desktop?",
            "default": false
        }	 	    	
],
"blocks": [
	{
		"type": "text",
		"name": "Text",
		"settings": [
			{
				"type": "textarea",
				"id": "ttl",
				"label": "Text",
				"default": "Special offer"
			},
            {
                    "type": "select",
                    "id": "htag",
                    "label": "Heading tag",
                   "info":"Specify heading types for SEO and search engines for crawling purposes.",
                    "default": "h2",
                    "options": [
                        {
                            "value": "h1",
                            "label": "H1"
                        },
                        {
                            "value": "h2",
                            "label": "H2"
                        },
                        {
                            "value": "h3",
                            "label": "H3"
                        },
                        {
                            "value": "h4",
                            "label": "H4"
                        },
                        {
                            "value": "h5",
                            "label": "H5"
                        },
                        {
                            "value": "h6",
                            "label": "H6"
                        },
                       {
                            "value": "p",
                            "label": "P"
                        }
                    ]
                },               
               {
                    "type": "select",
                    "id": "tff",
                    "label": "Font family",
                    "default": "ft1",
                    "options": [
                        {
                            "value": "ft1",
                            "label": "Font 1"
                        },
                        {
                            "value": "ft2",
                            "label": "Font 2"
                        },
                        {
                            "value": "ft3",
                            "label": "Font 3"
                        }
                    ]
             },
			{
				"type": "range",
				"id": "fs",
				"label": "Font size",
				"default": 18,
				"min": 10,
				"max": 100,
				"step": 1,
				"unit": "px"
			  },
			  {
				"type": "range",
				"id": "fsm",
				"label": "Font size (mobile)",
				"default": 16,
				"min": 10,
				"max": 60,
				"step": 1,
				"unit": "px"
			   },
              {
                "type": "select",
                "id": "fw",
                "label": "Font weight",
                "default": "400",
                "options": [
                  {
                    "value": "300",
                    "label": "Light"
                  },
                  {
                    "value": "400",
                    "label": "Regular"
                  },
                  {
                    "value": "500",
                    "label": "Medium"
                  },
                  {
                    "value": "600",
                    "label": "Semi Bold"
                  },
                  {
                    "value": "700",
                    "label": "Bold"
                  }
                ]
               },
               {
                "type": "range",
                "id": "lh",
                "label": "Line height",
                "default": 1.6,
                "min": 1.0,
                "max": 2.0,
                "step": 0.1              
               },
                {
                    "type": "color",
                    "id": "cl",
                    "label": "Color",
                    "default": "#000"
                },
				 {
				"type": "range",
				"id": "mb",
				"label": "Margin bottom",
				"default": 15,
				"min": 5,
				"max": 50,
				"step": 5,
				"unit": "px"
			  }


		]
	  },
	  {
		"type": "button",
		"name": "Button",
		"limit":3,
		"settings": [
			{
				"type": "text",
				"id": "btntxt",
				"label": "Button text",
				"default": "SHOP NOW"
			},
			{
				"type": "url",
				"id": "url",
				"label": "URL",
				"default": "/"
			},
            {
				"type": "checkbox",
				"id": "newtab1",
				"label": "Open in new tab?",
				"default": false
            },
			{
				"type": "text",
				"id": "btntxt1",
				"label": "Button text 2",				
			},
			{
				"type": "url",
				"id": "url1",
				"label": "URL"				
			},
            {
				"type": "checkbox",
				"id": "newtab2",
				"label": "Open in new tab?",
				"default": false
            },
			{
				"type": "select",
				"id": "btn-style",
				"label": "Button 1 design",
				"default": "btn1",
				"options": [
				  {
					"label": "Button 1",
					"value": "btn1"
				  },
				  {
					"label": "Button 2",
					"value": "btn2"
				  },
				  {
					"label": "Button 3",
					"value": "btn3"
				  },
				  {
					"label": "Button 4",
					"value": "btn4"
				  },
				  {
					"label": "Button 5",
					"value": "btn5"
				  },
				  {
					"label": "Button 6",
					"value": "btn6"
				  },
                 {
                      "label": "Button 7 Gradient",
                      "value": "btn7"
                  },
                  {
                      "label": "Button 8 Gradient",
                      "value": "btn8"
                  },
				  {
					"label": "Link",
					"value": "btnLink"
				  }
				]
            },
			{
				"type": "select",
				"id": "btn-style1",
				"label": "Button 2 design",
				"default": "btn1",
				"options": [
				  {
					"label": "Button 1",
					"value": "btn1"
				  },
				  {
					"label": "Button 2",
					"value": "btn2"
				  },
				  {
					"label": "Button 3",
					"value": "btn3"
				  },
				  {
					"label": "Button 4",
					"value": "btn4"
				  },
				  {
					"label": "Button 5",
					"value": "btn5"
				  },
				  {
					"label": "Button 6",
					"value": "btn6"
				  },
                  {
                      "label": "Button 7 Gradient",
                      "value": "btn7"
                  },
                  {
                      "label": "Button 8 Gradient",
                      "value": "btn8"
                  },
				  {
					"label": "Link",
					"value": "btnLink"
				  }
				]
            },	
			{
				"type": "select",
				"id": "btn-size",
				"label": "Button size",
				"default": "btn-md",
				"options": [
					{
						"label": "Small",
						"value": "btn-sm"
					},
					{
						"label": "Medium",
						"value": "btn-md"
					},
					{
						"label": "Large",
						"value": "btn-lg"
					}
				]
			}
		]
	}
],
"presets": [
	{
		"name": "Countdown Timer",
        "category": "Promotion",
		"blocks": [
			{
				"type": "text",
				 "settings": {
                    "ttl": "SPECIAL OFFER",
                    "fs": 24,
                    "fsm":18,
                    "fw":"700",
                    "htag":"h2",
                    "tff":"ft2",
                    "mb":10
                }
			},
			{
				"type": "text",
				"settings": {
                    "ttl": "Share something about your limited offer or temporary promotion.",
                    "fs": 15,
                    "fsm":15,
                    "mb":25
                }
			},
			{
				"type": "button"
			}
		]
	}
]
}
{% endschema %}
